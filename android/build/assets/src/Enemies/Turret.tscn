[gd_scene load_steps=12 format=2]

[ext_resource path="res://assets/3d/models/turret_head_wire.obj" type="ArrayMesh" id=1]
[ext_resource path="res://src/Enemies/Turret.gd" type="Script" id=2]
[ext_resource path="res://src/Enemies/TurretBody.gd" type="Script" id=3]
[ext_resource path="res://assets/3d/models/turret_body_wire.obj" type="ArrayMesh" id=4]
[ext_resource path="res://src/materials/dark_body.tres" type="Material" id=5]
[ext_resource path="res://src/materials/blue_body.tres" type="Material" id=6]
[ext_resource path="res://assets/3d/models/turret_canon_wire.obj" type="ArrayMesh" id=7]
[ext_resource path="res://src/particles/ExplosionEnemy.tscn" type="PackedScene" id=8]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 66, 60.7507, 117.168 )

[sub_resource type="SphereShape" id=2]
radius = 3.0

[sub_resource type="BoxShape" id=3]
extents = Vector3( 3, 2, 3 )

[node name="Turret" type="Spatial"]
script = ExtResource( 2 )
shot_speed = 2.0

[node name="Explosion" parent="." instance=ExtResource( 8 )]
transform = Transform( 3, 4.65661e-10, 5.58794e-09, -6.98492e-10, 3, -1.19804e-07, 0, -5.56611e-10, 3, 0, 10.6065, 0 )
amount = 12

[node name="Tween" type="Tween" parent="."]

[node name="Area" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.05698, 0 )
collision_layer = 0
collision_mask = 4

[node name="ShapeTurret" type="CollisionShape" parent="Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 60, -144.523 )
shape = SubResource( 1 )

[node name="Body" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.19365, 0 )
mesh = ExtResource( 4 )
material/0 = ExtResource( 6 )
material/1 = ExtResource( 5 )

[node name="Head" type="MeshInstance" parent="Body"]
transform = Transform( 1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 4.74937, 0 )
mesh = ExtResource( 1 )
material/0 = ExtResource( 6 )
material/1 = ExtResource( 5 )

[node name="TurretBody" type="StaticBody" parent="Body" groups=[
"Enemy",
]]
transform = Transform( 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 7.6, 0 )
collision_layer = 3
script = ExtResource( 3 )
explosion_path = NodePath("../../Explosion")
ship_mesh_path = NodePath("..")
tween_path = NodePath("../../Tween")

[node name="CollisionShape" type="CollisionShape" parent="Body/TurretBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.947285, 0 )
shape = SubResource( 2 )

[node name="CollisionShape2" type="CollisionShape" parent="Body/TurretBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.1, 0 )
shape = SubResource( 3 )

[node name="CanonRef" type="Spatial" parent="Body"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.45784e-08, 8.59998, -1.08185 )

[node name="Canon" type="MeshInstance" parent="Body/CanonRef"]
transform = Transform( 1, 0, 0, 0, 0.999999, -5.96046e-08, 0, 5.96046e-08, 0.999999, 0, 0, -3.85492 )
mesh = ExtResource( 7 )
material/0 = ExtResource( 5 )
material/1 = ExtResource( 6 )

[node name="Nozzle" type="Position3D" parent="Body/CanonRef/Canon"]
transform = Transform( 1, 0, 2.84217e-14, 0, 1, 0, -2.84217e-14, 0, 1, -4.54747e-13, 9.53674e-07, -14.1611 )

[node name="Timer" type="Timer" parent="."]
wait_time = 0.75
autostart = true

[node name="TimerFree" type="Timer" parent="."]
wait_time = 15.0
one_shot = true
autostart = true

[connection signal="area_entered" from="Area" to="." method="_on_Area_area_entered"]
[connection signal="area_exited" from="Area" to="." method="_on_Area_area_exited"]
[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]
[connection signal="timeout" from="TimerFree" to="." method="_on_TimerFree_timeout"]
